trigger:
- master

jobs:
# - job: 'PrivateWindows'
#   pool:
#     name: 'Self-hosted pool'
#     demands:
#     - Agent.Name -equals Agent 2
#   steps:
#   - template: ci/template.yml

- job: WindowsContainer
  container: mcr.microsoft.com/windows/servercore:ltsc2019
  steps:
  - task: PowerShell@2
    displayName: Clone BuildTools repo
    inputs:
      targetType: 'inline'
      script: >
          Set-Location -Path $($env:BUILD_SOURCEDIRECTORY)
          & git clone -b master --depth 1 "https://github.com/s1ntaxe770r/SSH-dockerfile" BuildTools
      showWarnings: true
      pwsh: true
      workingDirectory: '$(Build.SourcesDirectory)'
  # - template: ci/template.yml

# - job: 'HostedMacOS'
#   pool:
#     vmImage: macOS-latest
#   #condition: and(succeeded())
#   steps:
#   - template: ci/template.yml

# - job: 'HostedUbuntu'
#   pool:
#     vmImage: ubuntu-latest
#   #condition: and(succeeded())
#   steps:
#   - template: ci/template.yml